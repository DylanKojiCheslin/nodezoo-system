elasticsearch:
  image: elasticsearch
  command:
    elasticsearch --network.bind_host=0.0.0.0 --network.publish_host=localhost
  ports:
    - 9200:9200
    - 9300:9300

influx:
  image: tutum/influxdb:0.9
  environment:
    - PRE_CREATE_DB="vidi_metrics"
    - ADMIN_USER="metrics"
    - INFLUXDB_INIT_PWD="metrics"
  ports:
    - 8086:8086
    - 8083:8083

mesh:
  build: ../node_modules/seneca-mesh-base/
  container_name: mesh


metrics:
  build: ../node_modules/nodezoo-metrics/
  container_name: metrics

info:
  build: ../node_modules/nodezoo-info/
  container_name: info

search:
  build: ../node_modules/nodezoo-search/
  container_name: search

npm:
  build: ../node_modules/nodezoo-npm/
  container_name: npm

github:
  build: ../node_modules/nodezoo-github/
  container_name: github
  environment:
    - TOKEN=7333472e8f1653fcf73a23ac2ee1ad21fe34e328

travis:
  build: ../node_modules/nodezoo-travis/
  container_name: travis

web:
  build: ../node_modules/nodezoo-web/
  container_name: web

concorda:
  build: ../node_modules/concorda-dashboard/
  container_name: concorda
  environment:
    - PORT=3050

vidi:
  build: ../node_modules/vidi-dashboard/
  container_name: vidi
  environment:
    - PORT=3000
    - START=concorda:true
